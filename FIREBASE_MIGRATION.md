# üî• TikClone Pro - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Firebase

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ

### ‚úÖ –≠—Ç–∞–ø 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –õ–æ–≥–∏–Ω (–ó–ê–í–ï–†–®–ï–ù–û)

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- **`js/firebase-config.js`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase (–∑–∞–ø–æ–ª–Ω–∏ —Å–≤–æ–∏–º–∏ credentials!)
- **`js/firebase-service.js`** - –ø–æ–ª–Ω—ã–π Flask –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Firebase
- **`FIREBASE_SETUP.md`** - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- **`index.html`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã Firebase SDK –∏ —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **`js/app.js`** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã login, register, logout –¥–ª—è Firebase
- **`js/data-service.js`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Firebase

#### –§—É–Ω–∫—Ü–∏–∏ Firebase Auth:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ –õ–æ–≥–∏–Ω —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏
- ‚úÖ Logout —Å –æ—á–∏—Å—Ç–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ Firestore

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤—å Firebase
1. –û—Ç–∫—Ä–æ–π [console.firebase.google.com](https://console.firebase.google.com)
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–Ω–∞–∑–æ–≤–∏ "TikClone")
3. –î–æ–±–∞–≤—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –í–∫–ª—é—á–∏:
   - ‚úÖ Authentication (Email/Password)
   - ‚úÖ Firestore Database (test mode)
   - ‚úÖ Storage (–¥–ª—è –≤–∏–¥–µ–æ)

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π –∫–æ–Ω—Ñ–∏–≥
–í Firebase Console ‚Üí Project Settings ‚Üí —Å–∫–æ–ø–∏—Ä—É–π firebaseConfig

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏ `js/firebase-config.js`
–ó–∞–º–µ–Ω–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–≤–æ–∏:
```javascript
const firebaseConfig = {
    apiKey: "–¢–û–ô_–ö–õ–Æ–ß",
    authDomain: "—Ç–≤–æ–π_–¥–æ–º–µ–Ω.firebaseapp.com",
    projectId: "—Ç–≤–æ–π_–ø—Ä–æ–µ–∫—Ç",
    storageBucket: "—Ç–≤–æ–π_bucket.appspot.com",
    messagingSenderId: "000000",
    appId: "1:000000:web:000000"
};
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–π
1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–º–∏ "–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
3. –í–≤–µ–¥–∏ email –∏ –ø–∞—Ä–æ–ª—å
4. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üî• –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Firebase —É—Å–ø–µ—à–Ω–∞!"

---

## üìä Struktura –¥–∞–Ω–Ω—ã—Ö –≤ Firestore

### –ö–æ–ª–ª–µ–∫—Ü–∏—è: `users`
```javascript
{
  uid: "firebase_uid",
  name: "username",
  email: "user@example.com",
  avatar: "url_to_avatar",
  bio: "my bio",
  subscriptions: ["uid1", "uid2"],  // –Ω–∞ –∫–æ–≥–æ –ø–æ–¥–ø–∏—Å–∞–Ω
  subscribers: ["uid3", "uid4"],    // –∫—Ç–æ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –º–µ–Ω—è
  notifications: [],
  createdAt: Date,
  updatedAt: Date
}
```

### –ö–æ–ª–ª–µ–∫—Ü–∏—è: `videos` (–±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ)
```javascript
{
  id: 123456789,
  uid: "firebase_uid",
  author: "username",
  avatar: "url",
  url: "firebase_storage_url",
  desc: "description",
  likes: 150,
  likedBy: ["uid1", "uid2"],
  comments: [],
  views: 1000,
  timestamp: Date
}
```

---

## üîÑ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

–ï—Å–ª–∏ Firebase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç localStorage:
```javascript
if (firebaseService && firebaseService.isInitialized()) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º Firebase
} else {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º localStorage
}
```

---

## üìù –ú–µ—Ç–æ–¥—ã FirebaseService

### Authentication
- `register(email, password)` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `login(email, password)` - –ª–æ–≥–∏–Ω
- `logout()` - –≤—ã—Ö–æ–¥
- `getCurrentUser()` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `getCurrentUid()` - UID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Profile
- `getUserProfile(uid)` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `updateUserProfile(uid, updates)` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `getUserByName(userName)` - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏

### Videos (–±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ)
- `uploadVideo(file, metadata)` - –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ
- `getFeed(limit)` - –ø–æ–ª—É—á–∏—Ç—å –ª–µ–Ω—Ç—É
- `deleteVideo(firestoreId, storagePath)` - —É–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ

### Likes (–±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ)
- `toggleLike(firestoreId)` - –ª–∞–π–∫/—É–¥–∞–ª–∏—Ç—å –ª–∞–π–∫
- `getLikesCount(firestoreId)` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤

### Comments (–±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ)
- `addComment(firestoreId, text)` - –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `deleteComment(firestoreId, commentText)` - —É–¥–∞–ª–∏—Ç—å

### Subscriptions
- `subscribe(targetUid)` - –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
- `unsubscribe(targetUid)` - –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è
- `isSubscribed(targetUid)` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Test Mode** - Firestore Security Rules —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ `read, write: if true`
   - –≠—Ç–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! –í production –∏—Å–ø–æ–ª—å–∑—É–π proper rules

2. **Storage Files** - –≤–∏–¥–µ–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `videos/{userId}/{timestamp}`

3. **Real-time Updates** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Firestore listener –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

4. **Fallback** - —Å—Ç–∞—Ä–æ–µ localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

- [ ] –≠—Ç–∞–ø 2: –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –Ω–∞ Firebase Storage
- [ ] –≠—Ç–∞–ø 3: –†–µ–∞–ª—å–Ω—ã–µ –ª–∞–π–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —á–µ—Ä–µ–∑ Firestore  
- [ ] –≠—Ç–∞–ø 4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –≠—Ç–∞–ø 5: –ß–∞—Ç –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

---

## üêõ Troubleshooting

### "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç"
- –ü—Ä–æ–≤–µ—Ä—å credentials –≤ firebase-config.js
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ Firebase project –∞–∫—Ç–∏–≤–µ–Ω

### "Email —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è"
- –ù–æ—Ä–º–∞–ª—å–Ω–æ! –ó–Ω–∞—á–∏—Ç –∞–∫–∫–∞—É–Ω—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω
- –ù–∞–∂–º–∏ "–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏"

### "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Email
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ

### Firebase –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ credentials –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- –î–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é 2-3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞: F12 ‚Üí Console
2. –ü—Ä–æ—á–∏—Ç–∞–π –æ—à–∏–±–∫—É
3. –ü—Ä–æ–≤–µ—Ä—å FIREBASE_SETUP.md –µ—â–µ —Ä–∞–∑
4. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

**–ü–æ—Ä—è–¥–æ–∫ Scripts –≤ HTML:**
1. Firebase SDKs
2. firebase-config.js
3. firebase-service.js
4. data-service.js
5. view-renderer.js
6. app.js

---

Good luck! üöÄ
